<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üá®üá¥ Quiz Colombia Challenge</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #3cdd02 0%, #0a2497 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            position: relative;
            overflow-x: hidden;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            max-width: 700px;
            width: 100%;
            padding: 40px;
            position: relative;
            z-index: 10;
            max-height: 90vh;
            overflow-y: auto;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5em;
            color: #667eea;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .header p {
            color: #666;
            font-size: 1.1em;
        }

        .screen {
            display: none;
        }

        .screen.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .input-group {
            margin: 20px 0;
        }

        .input-group label {
            display: block;
            font-size: 1.1em;
            color: #333;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .input-group input,
        .input-group select {
            width: 100%;
            padding: 12px;
            font-size: 1em;
            border: 3px solid #667eea;
            border-radius: 10px;
            outline: none;
            transition: all 0.3s;
            background: white;
        }

        .input-group input:focus,
        .input-group select:focus {
            border-color: #764ba2;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
        }

        .input-group select {
            cursor: pointer;
        }

        .btn {
            width: 100%;
            padding: 15px;
            font-size: 1.2em;
            font-weight: bold;
            color: white;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            margin-top: 20px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .question-container {
            margin: 30px 0;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            transition: width 0.3s ease;
        }

        .question-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            font-size: 1.1em;
            color: #666;
        }

        .question-text {
            font-size: 1.3em;
            color: #333;
            margin-bottom: 30px;
            line-height: 1.5;
            font-weight: 600;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .option {
            padding: 15px 20px;
            background: #f5f5f5;
            border: 3px solid transparent;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1.1em;
        }

        .option:hover {
            background: #e8e8e8;
            border-color: #667eea;
        }

        .option.selected {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .option.correct {
            background: #4caf50;
            color: white;
            border-color: #4caf50;
        }

        .option.incorrect {
            background: #f44336;
            color: white;
            border-color: #f44336;
        }

        .timer {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
            text-align: center;
            margin: 20px 0;
        }

        .timer.warning {
            color: #f44336;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.1);
            }
        }

        .results {
            text-align: center;
        }

        .score-display {
            font-size: 4em;
            font-weight: bold;
            color: #667eea;
            margin: 30px 0;
        }

        .leaderboard {
            margin-top: 30px;
            text-align: left;
        }

        .leaderboard h3 {
            font-size: 1.8em;
            color: #333;
            margin-bottom: 20px;
            text-align: center;
        }

        .leaderboard-item {
            display: flex;
            justify-content: space-between;
            padding: 20px;
            background: #f5f5f5;
            border-radius: 10px;
            margin-bottom: 15px;
            align-items: center;
            transition: transform 0.2s;
        }

        .leaderboard-item:hover {
            transform: translateX(5px);
        }

        .leaderboard-item.top1 {
            background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%);
            font-weight: bold;
            font-size: 1.1em;
        }

        .leaderboard-item.top2 {
            background: linear-gradient(135deg, #c0c0c0 0%, #e8e8e8 100%);
        }

        .leaderboard-item.top3 {
            background: linear-gradient(135deg, #cd7f32 0%, #e6a857 100%);
        }

        .rank {
            font-size: 1.5em;
            font-weight: bold;
            margin-right: 15px;
        }

        .difficulty-card {
            padding: 20px;
            border: 3px solid #e0e0e0;
            border-radius: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            background: #f9f9f9;
        }

        .difficulty-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .difficulty-card.selected {
            border-color: #667eea;
            background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
        }

        .difficulty-badge {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 12px;
            font-size: 0.75em;
            font-weight: bold;
            margin-left: 8px;
        }

        .difficulty-badge.amateur {
            background: linear-gradient(135deg, #4caf50 0%, #8bc34a 100%);
            color: white;
        }

        .difficulty-badge.experto {
            background: linear-gradient(135deg, #f44336 0%, #ff5722 100%);
            color: white;
        }

        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background: #667eea;
            position: absolute;
            animation: confetti-fall 3s linear forwards;
        }

        @keyframes confetti-fall {
            to {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        .category-badge {
            display: inline-block;
            padding: 5px 15px;
            background: #764ba2;
            color: white;
            border-radius: 20px;
            font-size: 0.9em;
            margin-bottom: 15px;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="header">
            <h1>üá®üá¥ QUIZ COLOMBIA</h1>
            <p>¬°Demuestra tu conocimiento!</p>
        </div>

        <!-- Pantalla de inicio -->
        <div id="startScreen" class="screen active">
            <div class="input-group">
                <label for="playerName">üë§ Nombre completo:</label>
                <input type="text" id="playerName" placeholder="Ej: Juan P√©rez Garc√≠a" maxlength="40">
            </div>
            <div class="input-group">
                <label for="institution">üè´ Instituci√≥n educativa:</label>
                <input type="text" id="institution" placeholder="Ej: Colegio Nacional" maxlength="50">
            </div>
            <div class="input-group">
                <label for="department">üìç Departamento:</label>
                <select id="department">
                    <option value="">Selecciona tu departamento</option>
                    <option value="Amazonas">Amazonas</option>
                    <option value="Antioquia">Antioquia</option>
                    <option value="Arauca">Arauca</option>
                    <option value="Atl√°ntico">Atl√°ntico</option>
                    <option value="Bogot√° D.C.">Bogot√° D.C.</option>
                    <option value="Bol√≠var">Bol√≠var</option>
                    <option value="Boyac√°">Boyac√°</option>
                    <option value="Caldas">Caldas</option>
                    <option value="Caquet√°">Caquet√°</option>
                    <option value="Casanare">Casanare</option>
                    <option value="Cauca">Cauca</option>
                    <option value="Cesar">Cesar</option>
                    <option value="Choc√≥">Choc√≥</option>
                    <option value="C√≥rdoba">C√≥rdoba</option>
                    <option value="Cundinamarca">Cundinamarca</option>
                    <option value="Guain√≠a">Guain√≠a</option>
                    <option value="Guaviare">Guaviare</option>
                    <option value="Huila">Huila</option>
                    <option value="La Guajira">La Guajira</option>
                    <option value="Magdalena">Magdalena</option>
                    <option value="Meta">Meta</option>
                    <option value="Nari√±o">Nari√±o</option>
                    <option value="Norte de Santander">Norte de Santander</option>
                    <option value="Putumayo">Putumayo</option>
                    <option value="Quind√≠o">Quind√≠o</option>
                    <option value="Risaralda">Risaralda</option>
                    <option value="San Andr√©s y Providencia">San Andr√©s y Providencia</option>
                    <option value="Santander">Santander</option>
                    <option value="Sucre">Sucre</option>
                    <option value="Tolima">Tolima</option>
                    <option value="Valle del Cauca">Valle del Cauca</option>
                    <option value="Vaup√©s">Vaup√©s</option>
                    <option value="Vichada">Vichada</option>
                </select>
            </div>
            <div class="input-group">
                <label for="program">üìö Nombre del programa:</label>
                <input type="text" id="program" placeholder="Ej: Educaci√≥n B√°sica Secundaria" maxlength="50">
            </div>
            <div class="input-group">
                <label for="ficha">üé´ N√∫mero de ficha:</label>
                <input type="text" id="ficha" placeholder="Ej: 2024001" maxlength="15" oninput="validateFicha(this)">
                <small style="color: #666; font-size: 0.9em; margin-top: 5px; display: block;">Solo n√∫meros
                    permitidos</small>
            </div>

            <!-- SELECTOR DE DIFICULTAD -->
            <div class="input-group">
                <label style="font-size: 1.3em; color: #667eea; margin-bottom: 15px;">üéØ Selecciona la
                    dificultad:</label>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 10px;">
                    <div class="difficulty-card" onclick="selectDifficulty('amateur')" id="diffAmateur">
                        <div style="font-size: 2em; margin-bottom: 10px;">üåü</div>
                        <div style="font-size: 1.2em; font-weight: bold;">AMATEUR</div>
                        <div style="font-size: 0.9em; color: #666; margin-top: 5px;">Preguntas b√°sicas</div>
                        <div style="font-size: 0.85em; color: #4caf50; margin-top: 8px; font-weight: bold;">Puntos
                            normales</div>
                    </div>
                    <div class="difficulty-card" onclick="selectDifficulty('experto')" id="diffExperto">
                        <div style="font-size: 2em; margin-bottom: 10px;">üî•</div>
                        <div style="font-size: 1.2em; font-weight: bold;">EXPERTO</div>
                        <div style="font-size: 0.9em; color: #666; margin-top: 5px;">Preguntas dif√≠ciles</div>
                        <div style="font-size: 0.85em; color: #f44336; margin-top: 8px; font-weight: bold;">¬°DOBLE
                            PUNTOS!</div>
                    </div>
                </div>
            </div>

            <button class="btn" onclick="startGame()">üéÆ COMENZAR JUEGO</button>
            <button class="btn" onclick="showLeaderboard()"
                style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">üèÜ VER RANKING</button>
        </div>

        <!-- Pantalla del juego -->
        <div id="gameScreen" class="screen">
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar"></div>
            </div>
            <div class="question-info">
                <span>Pregunta <span id="currentQ">1</span>/10</span>
                <span>Puntos: <span id="score">0</span></span>
            </div>
            <div class="timer" id="timer">15</div>
            <div class="question-container">
                <div class="category-badge" id="category"></div>
                <div class="question-text" id="questionText"></div>
                <div class="options" id="options"></div>
            </div>
            <button class="btn" id="nextBtn" onclick="nextQuestion()" style="display: none;">SIGUIENTE ‚û°Ô∏è</button>
        </div>

        <!-- Pantalla de resultados -->
        <div id="resultsScreen" class="screen">
            <div class="results">
                <h2>üéâ ¬°Juego Terminado! üéâ</h2>
                <div class="score-display" id="finalScore">0</div>
                <p style="font-size: 1.2em; color: #666; margin: 20px 0;" id="maxScoreText">de 1500 puntos</p>
                <div class="leaderboard">
                    <h3>üèÜ TOP 10 MEJORES PUNTAJES</h3>
                    <div id="leaderboardList"></div>
                </div>
                <button class="btn" onclick="restartGame()">üîÑ JUGAR DE NUEVO</button>
            </div>
        </div>
    </div>

    <script>
        // BANCO DE PREGUNTAS AMATEUR (Nivel B√°sico)
        const questionBankAmateur = [
            // GEOGRAF√çA
            { category: "üó∫Ô∏è Geograf√≠a", question: "¬øCu√°l es la capital de Colombia?", options: ["Medell√≠n", "Bogot√°", "Cali", "Cartagena"], correct: 1 },
            { category: "üó∫Ô∏è Geograf√≠a", question: "¬øCu√°l es el r√≠o m√°s importante de Colombia?", options: ["R√≠o Cauca", "R√≠o Magdalena", "R√≠o Amazonas", "R√≠o Atrato"], correct: 1 },
            { category: "üó∫Ô∏è Geograf√≠a", question: "¬øCu√°ntos departamentos tiene Colombia?", options: ["30", "32", "35", "28"], correct: 1 },
            { category: "üó∫Ô∏è Geograf√≠a", question: "¬øQu√© oc√©anos ba√±an las costas de Colombia?", options: ["Atl√°ntico y Pac√≠fico", "Solo Atl√°ntico", "Solo Pac√≠fico", "√çndico y Pac√≠fico"], correct: 0 },
            { category: "üó∫Ô∏è Geograf√≠a", question: "¬øCu√°l es el pico m√°s alto de Colombia?", options: ["Nevado del Ruiz", "Pico Crist√≥bal Col√≥n", "Nevado del Tolima", "Pico Bol√≠var"], correct: 1 },

            // HISTORIA
            { category: "üìö Historia", question: "¬øEn qu√© a√±o se independiz√≥ Colombia?", options: ["1810", "1819", "1820", "1830"], correct: 1 },
            { category: "üìö Historia", question: "¬øQui√©n fue el libertador de Colombia?", options: ["Jos√© de San Mart√≠n", "Sim√≥n Bol√≠var", "Antonio Nari√±o", "Francisco de Paula Santander"], correct: 1 },
            { category: "üìö Historia", question: "¬øQu√© batalla sell√≥ la independencia de Colombia?", options: ["Batalla de Boyac√°", "Batalla de Carabobo", "Batalla de Jun√≠n", "Batalla de Pichincha"], correct: 0 },
            { category: "üìö Historia", question: "¬øQui√©n fue el primer presidente de Colombia?", options: ["Sim√≥n Bol√≠var", "Francisco de Paula Santander", "Tom√°s Cipriano de Mosquera", "Jos√© Mar√≠a Obando"], correct: 0 },
            { category: "üìö Historia", question: "¬øCu√°l fue el nombre de la Gran Colombia?", options: ["Rep√∫blica de Colombia", "Nueva Granada", "Gran Colombia", "Colombia Federal"], correct: 2 },

            // BIOLOG√çA
            { category: "üåø Biolog√≠a", question: "¬øCu√°l es el ave nacional de Colombia?", options: ["El √°guila", "El c√≥ndor", "El tuc√°n", "El colibr√≠"], correct: 1 },
            { category: "üåø Biolog√≠a", question: "¬øCu√°ntas especies de aves tiene Colombia aproximadamente?", options: ["1000", "1500", "1900", "2500"], correct: 2 },
            { category: "üåø Biolog√≠a", question: "¬øQu√© flor es s√≠mbolo nacional de Colombia?", options: ["La rosa", "La orqu√≠dea", "El clavel", "La margarita"], correct: 1 },
            { category: "üåø Biolog√≠a", question: "¬øCu√°l es el animal m√°s venenoso de Colombia?", options: ["La serpiente coral", "La rana dorada", "La ara√±a bananera", "El escorpi√≥n"], correct: 1 },
            { category: "üåø Biolog√≠a", question: "¬øQu√© porcentaje de la biodiversidad mundial tiene Colombia?", options: ["5%", "10%", "15%", "20%"], correct: 1 },

            // MATEM√ÅTICAS
            { category: "üî¢ Matem√°ticas", question: "¬øCu√°nto es 15 √ó 12?", options: ["150", "180", "200", "170"], correct: 1 },
            { category: "üî¢ Matem√°ticas", question: "¬øCu√°l es el resultado de 144 √∑ 12?", options: ["10", "11", "12", "13"], correct: 2 },
            { category: "üî¢ Matem√°ticas", question: "¬øCu√°ntos grados tiene un tri√°ngulo?", options: ["90¬∞", "180¬∞", "270¬∞", "360¬∞"], correct: 1 },
            { category: "üî¢ Matem√°ticas", question: "¬øCu√°l es el valor de œÄ (pi) aproximadamente?", options: ["2.14", "3.14", "4.14", "5.14"], correct: 1 },
            { category: "üî¢ Matem√°ticas", question: "¬øCu√°nto es 2¬≥ (2 al cubo)?", options: ["6", "8", "9", "12"], correct: 1 },

            // INGL√âS
            { category: "üá¨üáß Ingl√©s", question: "¬øC√≥mo se dice 'manzana' en ingl√©s?", options: ["Orange", "Apple", "Banana", "Grape"], correct: 1 },
            { category: "üá¨üáß Ingl√©s", question: "¬øQu√© significa 'Hello'?", options: ["Adi√≥s", "Hola", "Gracias", "Por favor"], correct: 1 },
            { category: "üá¨üáß Ingl√©s", question: "¬øC√≥mo se dice 'libro' en ingl√©s?", options: ["Book", "Look", "Cook", "Hook"], correct: 0 },
            { category: "üá¨üáß Ingl√©s", question: "¬øQu√© significa 'Thank you'?", options: ["De nada", "Por favor", "Gracias", "Perd√≥n"], correct: 2 },
            { category: "üá¨üáß Ingl√©s", question: "¬øCu√°l es el color 'blue'?", options: ["Rojo", "Azul", "Verde", "Amarillo"], correct: 1 },

            // CULTURA GENERAL
            { category: "üé≠ Cultura", question: "¬øQui√©n escribi√≥ 'Cien A√±os de Soledad'?", options: ["Gabriel Garc√≠a M√°rquez", "Jorge Luis Borges", "Pablo Neruda", "Mario Vargas Llosa"], correct: 0 },
            { category: "üé≠ Cultura", question: "¬øCu√°l es el baile t√≠pico de la costa Caribe colombiana?", options: ["Salsa", "Cumbia", "Merengue", "Vallenato"], correct: 1 },
            { category: "üé≠ Cultura", question: "¬øEn qu√© ciudad naci√≥ Shakira?", options: ["Bogot√°", "Medell√≠n", "Barranquilla", "Cali"], correct: 2 },
            { category: "üé≠ Cultura", question: "¬øCu√°l es la moneda de Colombia?", options: ["Peso colombiano", "Bol√≠var", "D√≥lar", "Euro"], correct: 0 },
            { category: "üé≠ Cultura", question: "¬øQu√© significa la bandera de Colombia (amarillo, azul, rojo)?", options: ["Oro, mares, sangre", "Sol, cielo, amor", "Riqueza, r√≠os, libertad", "Trigo, agua, valent√≠a"], correct: 0 }
        ];

        // BANCO DE PREGUNTAS EXPERTO (Nivel Dif√≠cil)
        const questionBankExperto = [
            // GEOGRAF√çA - DIF√çCIL
            { category: "üó∫Ô∏è Geograf√≠a", question: "¬øCu√°l es la extensi√≥n territorial aproximada de Colombia?", options: ["1.141.748 km¬≤", "2.070.408 km¬≤", "910.000 km¬≤", "1.500.000 km¬≤"], correct: 0 },
            { category: "üó∫Ô∏è Geograf√≠a", question: "¬øEn qu√© cordillera se encuentra el Nevado del Ruiz?", options: ["Cordillera Occidental", "Cordillera Central", "Cordillera Oriental", "Sierra Nevada"], correct: 1 },
            { category: "üó∫Ô∏è Geograf√≠a", question: "¬øCu√°l es el p√°ramo m√°s grande del mundo ubicado en Colombia?", options: ["P√°ramo de Sumapaz", "P√°ramo de Chingaza", "P√°ramo de los Nevados", "P√°ramo de Santurb√°n"], correct: 0 },
            { category: "üó∫Ô∏è Geograf√≠a", question: "¬øQu√© porcentaje del territorio colombiano corresponde a la regi√≥n Amaz√≥nica?", options: ["25%", "35%", "42%", "50%"], correct: 2 },
            { category: "üó∫Ô∏è Geograf√≠a", question: "¬øCu√°l es el volc√°n m√°s alto de Colombia?", options: ["Nevado del Huila", "Nevado del Tolima", "Nevado del Ruiz", "Galeras"], correct: 0 },
            { category: "üó∫Ô∏è Geograf√≠a", question: "¬øEn qu√© departamento se encuentra el Cabo de la Vela?", options: ["Magdalena", "Atl√°ntico", "La Guajira", "Bol√≠var"], correct: 2 },
            { category: "üó∫Ô∏è Geograf√≠a", question: "¬øCu√°l es la isla m√°s grande de Colombia?", options: ["Isla de San Andr√©s", "Isla de Providencia", "Isla Gorgona", "Isla Malpelo"], correct: 0 },
            { category: "üó∫Ô∏è Geograf√≠a", question: "¬øQu√© r√≠o colombiano desemboca en el oc√©ano Pac√≠fico?", options: ["R√≠o Magdalena", "R√≠o Atrato", "R√≠o San Juan", "R√≠o Pat√≠a"], correct: 2 },

            // HISTORIA - DIF√çCIL
            { category: "üìö Historia", question: "¬øEn qu√© a√±o muri√≥ Sim√≥n Bol√≠var?", options: ["1828", "1830", "1832", "1825"], correct: 1 },
            { category: "üìö Historia", question: "¬øQui√©n fue el primer presidente de la Rep√∫blica de Colombia (despu√©s de la Gran Colombia)?", options: ["Francisco de Paula Santander", "Jos√© Ignacio de M√°rquez", "Jos√© Mar√≠a Obando", "Tom√°s Cipriano de Mosquera"], correct: 1 },
            { category: "üìö Historia", question: "¬øEn qu√© a√±o se firm√≥ el Tratado Mallarino-Bidlack con Estados Unidos?", options: ["1846", "1848", "1850", "1853"], correct: 0 },
            { category: "üìö Historia", question: "¬øCu√°ntos a√±os dur√≥ la Guerra de los Mil D√≠as?", options: ["2 a√±os", "3 a√±os", "4 a√±os", "5 a√±os"], correct: 1 },
            { category: "üìö Historia", question: "¬øEn qu√© a√±o Panam√° se separ√≥ de Colombia?", options: ["1900", "1903", "1905", "1910"], correct: 1 },
            { category: "üìö Historia", question: "¬øQui√©n fue conocido como 'El Hombre de las Leyes' en Colombia?", options: ["Sim√≥n Bol√≠var", "Francisco de Paula Santander", "Antonio Nari√±o", "Rafael N√∫√±ez"], correct: 1 },
            { category: "üìö Historia", question: "¬øEn qu√© a√±o se aboli√≥ definitivamente la esclavitud en Colombia?", options: ["1821", "1851", "1863", "1886"], correct: 1 },
            { category: "üìö Historia", question: "¬øQui√©n tradujo al espa√±ol 'Los Derechos del Hombre' en Colombia?", options: ["Antonio Nari√±o", "Camilo Torres", "Francisco Jos√© de Caldas", "Policarpa Salavarrieta"], correct: 0 },

            // BIOLOG√çA - DIF√çCIL
            { category: "üåø Biolog√≠a", question: "¬øCu√°ntas especies de orqu√≠deas se estima que existen en Colombia?", options: ["2.500", "4.270", "5.000", "3.500"], correct: 1 },
            { category: "üåø Biolog√≠a", question: "¬øCu√°l es el nombre cient√≠fico del oso de anteojos?", options: ["Tremarctos ornatus", "Ursus americanus", "Panthera onca", "Puma concolor"], correct: 0 },
            { category: "üåø Biolog√≠a", question: "¬øCu√°ntas especies de colibr√≠es hay aproximadamente en Colombia?", options: ["100", "165", "200", "250"], correct: 1 },
            { category: "üåø Biolog√≠a", question: "¬øQu√© porcentaje de las especies de anfibios del mundo est√°n en Colombia?", options: ["5%", "10%", "15%", "20%"], correct: 2 },
            { category: "üåø Biolog√≠a", question: "¬øCu√°l es la palma m√°s alta de Colombia?", options: ["Palma de cera del Quind√≠o", "Palma real", "Palma de vino", "Palma estera"], correct: 0 },
            { category: "üåø Biolog√≠a", question: "¬øCu√°ntos ecosistemas terrestres diferentes tiene Colombia?", options: ["20", "31", "45", "58"], correct: 1 },
            { category: "üåø Biolog√≠a", question: "¬øQu√© animal colombiano puede vivir tanto en agua dulce como salada?", options: ["El manat√≠", "El caim√°n", "La nutria", "El delf√≠n rosado"], correct: 0 },

            // MATEM√ÅTICAS - DIF√çCIL
            { category: "üî¢ Matem√°ticas", question: "¬øCu√°l es el resultado de ‚àö144 + 5¬≤ - 8?", options: ["29", "31", "33", "35"], correct: 0 },
            { category: "üî¢ Matem√°ticas", question: "Si un tri√°ngulo tiene lados de 3, 4 y 5 cm, ¬øqu√© tipo de tri√°ngulo es?", options: ["Equil√°tero", "Is√≥sceles", "Rect√°ngulo", "Obtus√°ngulo"], correct: 2 },
            { category: "üî¢ Matem√°ticas", question: "¬øCu√°nto es 2‚Åµ √ó 2¬≥?", options: ["2‚Å∏ = 256", "2¬π‚Åµ = 32768", "2¬≤ = 4", "2‚Å∂ = 64"], correct: 0 },
            { category: "üî¢ Matem√°ticas", question: "¬øCu√°l es el valor de x en la ecuaci√≥n 3x + 15 = 45?", options: ["x = 5", "x = 10", "x = 15", "x = 20"], correct: 1 },
            { category: "üî¢ Matem√°ticas", question: "¬øCu√°ntos grados mide cada √°ngulo interno de un hex√°gono regular?", options: ["120¬∞", "108¬∞", "135¬∞", "90¬∞"], correct: 0 },
            { category: "üî¢ Matem√°ticas", question: "¬øCu√°l es el √°rea de un c√≠rculo con radio de 7 cm? (œÄ ‚âà 3.14)", options: ["153.86 cm¬≤", "43.96 cm¬≤", "21.98 cm¬≤", "87.92 cm¬≤"], correct: 0 },
            { category: "üî¢ Matem√°ticas", question: "¬øCu√°nto es 15% de 240?", options: ["30", "36", "40", "45"], correct: 1 },
            { category: "üî¢ Matem√°ticas", question: "Si 5 obreros construyen una casa en 12 d√≠as, ¬øcu√°ntos d√≠as tardar√°n 3 obreros?", options: ["15 d√≠as", "18 d√≠as", "20 d√≠as", "24 d√≠as"], correct: 2 },

            // INGL√âS - DIF√çCIL
            { category: "üá¨üáß Ingl√©s", question: "What is the past tense of 'to go'?", options: ["Goed", "Went", "Gone", "Goes"], correct: 1 },
            { category: "üá¨üáß Ingl√©s", question: "Which word means 'biblioteca' in English?", options: ["Bookstore", "Library", "Librarian", "Archive"], correct: 1 },
            { category: "üá¨üáß Ingl√©s", question: "Complete: 'She _____ to school every day'", options: ["go", "goes", "going", "gone"], correct: 1 },
            { category: "üá¨üáß Ingl√©s", question: "What is the plural of 'child'?", options: ["Childs", "Childes", "Children", "Childrens"], correct: 2 },
            { category: "üá¨üáß Ingl√©s", question: "Which is the correct question form?", options: ["Do you like pizza?", "You like pizza?", "Like you pizza?", "You do like pizza?"], correct: 0 },
            { category: "üá¨üáß Ingl√©s", question: "What does 'although' mean?", options: ["Tambi√©n", "Aunque", "Siempre", "Nunca"], correct: 1 },
            { category: "üá¨üáß Ingl√©s", question: "Complete: 'If I _____ rich, I would travel the world'", options: ["am", "was", "were", "be"], correct: 2 },
            { category: "üá¨üáß Ingl√©s", question: "Which is a comparative adjective?", options: ["Good", "Better", "Best", "Well"], correct: 1 },

            // CULTURA GENERAL - DIF√çCIL
            { category: "üé≠ Cultura", question: "¬øEn qu√© a√±o Gabriel Garc√≠a M√°rquez gan√≥ el Premio Nobel de Literatura?", options: ["1980", "1982", "1984", "1986"], correct: 1 },
            { category: "üé≠ Cultura", question: "¬øQui√©n compuso el Himno Nacional de Colombia?", options: ["Rafael N√∫√±ez", "Oreste Sindici", "Jos√© Asunci√≥n Silva", "Jorge Isaacs"], correct: 1 },
            { category: "üé≠ Cultura", question: "¬øCu√°l es el plato t√≠pico del departamento de Antioquia?", options: ["Ajiaco", "Bandeja paisa", "Sancocho", "Lechona"], correct: 1 },
            { category: "üé≠ Cultura", question: "¬øQu√© artista colombiano pint√≥ 'El abrazo'?", options: ["Fernando Botero", "Alejandro Obreg√≥n", "D√©bora Arango", "Omar Rayo"], correct: 0 },
            { category: "üé≠ Cultura", question: "¬øEn qu√© ciudad se celebra el Festival de la Leyenda Vallenata?", options: ["Barranquilla", "Valledupar", "Santa Marta", "Cartagena"], correct: 1 },
            { category: "üé≠ Cultura", question: "¬øQui√©n escribi√≥ la novela 'Mar√≠a'?", options: ["Jos√© Eustasio Rivera", "Jorge Isaacs", "Tom√°s Carrasquilla", "Gabriel Garc√≠a M√°rquez"], correct: 1 },
            { category: "üé≠ Cultura", question: "¬øCu√°ntas veces ha ganado Colombia la Copa Am√©rica?", options: ["0 veces", "1 vez", "2 veces", "3 veces"], correct: 1 },
            { category: "üé≠ Cultura", question: "¬øQu√© significa el color amarillo en la bandera de Colombia?", options: ["Las riquezas del suelo", "El sol", "El oro", "La abundancia"], correct: 2 },

            // CIENCIAS NATURALES - DIF√çCIL
            { category: "üî¨ Ciencias", question: "¬øCu√°l es el elemento qu√≠mico m√°s abundante en el universo?", options: ["Ox√≠geno", "Carbono", "Hidr√≥geno", "Nitr√≥geno"], correct: 2 },
            { category: "üî¨ Ciencias", question: "¬øCu√°ntos huesos tiene el cuerpo humano adulto?", options: ["186", "206", "226", "246"], correct: 1 },
            { category: "üî¨ Ciencias", question: "¬øQu√© √≥rgano del cuerpo humano consume m√°s energ√≠a?", options: ["El coraz√≥n", "El cerebro", "Los m√∫sculos", "El h√≠gado"], correct: 1 },
            { category: "üî¨ Ciencias", question: "¬øCu√°l es el metal m√°s abundante en la corteza terrestre?", options: ["Hierro", "Cobre", "Aluminio", "Oro"], correct: 2 },
            { category: "üî¨ Ciencias", question: "¬øCu√°ntos cromosomas tiene una c√©lula humana normal?", options: ["23", "46", "92", "69"], correct: 1 },
            { category: "üî¨ Ciencias", question: "¬øQu√© gas emiten las plantas durante la fotos√≠ntesis?", options: ["Di√≥xido de carbono", "Ox√≠geno", "Nitr√≥geno", "Hidr√≥geno"], correct: 1 },
            { category: "üî¨ Ciencias", question: "¬øA qu√© velocidad aproximada viaja la luz?", options: ["300.000 km/s", "150.000 km/s", "500.000 km/s", "1.000.000 km/s"], correct: 0 },
            { category: "üî¨ Ciencias", question: "¬øCu√°l es el planeta m√°s grande del sistema solar?", options: ["Saturno", "J√∫piter", "Urano", "Neptuno"], correct: 1 }
        ];

        // Variables del juego
        let playerName = "";
        let institution = "";
        let department = "";
        let program = "";
        let ficha = "";
        let difficulty = "";
        let currentQuestionIndex = 0;
        let score = 0;
        let selectedQuestions = [];
        let timeLeft = 15;
        let timerInterval;
        let answered = false;

        // CONFIGURACI√ìN GITHUB GIST - ¬°REEMPLAZA CON TUS DATOS!
        const GIST_ID = 'bbcdec288d1b0920a886dc7dffacb11d'; // SIN .js al final
        const GITHUB_TOKEN = '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';
        const GIST_FILENAME = 'quiz-colombia-leaderboard.json';

        // Almacenamiento en memoria
        let leaderboardData = [];
        let isLoadingData = false;

        // Audio contexts
        let audioContext;

        // Cargar datos al iniciar la p√°gina
        window.addEventListener('DOMContentLoaded', () => {
            loadLeaderboardFromGist();
        });

        // ========== FUNCIONES PARA GITHUB GIST ==========
        async function loadLeaderboardFromGist() {
            if (!GIST_ID || GIST_ID === 'TU_GIST_ID_AQUI') {
                console.log('‚ö†Ô∏è Configurar GIST_ID para persistencia');
                return;
            }
            
            isLoadingData = true;
            try {
                const response = await fetch(`https://api.github.com/gists/${GIST_ID}`);
                if (response.ok) {
                    const gist = await response.json();
                    const content = gist.files[GIST_FILENAME]?.content;
                    if (content) {
                        leaderboardData = JSON.parse(content);
                        console.log('‚úÖ Datos cargados desde GitHub Gist:', leaderboardData.length, 'registros');
                    }
                } else {
                    console.error('‚ùå Error al cargar datos:', response.status);
                }
            } catch (error) {
                console.error('‚ùå Error cargando datos:', error);
            }
            isLoadingData = false;
        }

        async function saveLeaderboardToGist() {
            if (!GIST_ID || GIST_ID === 'TU_GIST_ID_AQUI' || !GITHUB_TOKEN || GITHUB_TOKEN === 'TU_TOKEN_AQUI') {
                console.log('‚ö†Ô∏è Configurar GIST_ID y GITHUB_TOKEN para persistencia');
                return;
            }
            
            try {
                const response = await fetch(`https://api.github.com/gists/${GIST_ID}`, {
                    method: 'PATCH',
                    headers: {
                        'Authorization': `token ${GITHUB_TOKEN}`,
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        files: {
                            [GIST_FILENAME]: {
                                content: JSON.stringify(leaderboardData, null, 2)
                            }
                        }
                    })
                });
                
                if (response.ok) {
                    console.log('‚úÖ Datos guardados en GitHub Gist');
                } else {
                    console.error('‚ùå Error guardando datos:', response.status, await response.text());
                }
            } catch (error) {
                console.error('‚ùå Error guardando datos:', error);
            }
        }

        // ========== FUNCIONES DE AUDIO ==========
        function initAudio() {
            try {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
            } catch (e) {
                console.log('Audio no soportado');
            }
        }

        function playTickSound() {
            if (!audioContext) return;
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            oscillator.frequency.value = 800;
            oscillator.type = 'sine';
            gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.1);
        }

        function playCorrectSound() {
            if (!audioContext) return;
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            oscillator.frequency.value = 523.25;
            oscillator.type = 'sine';
            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.3);
        }

        function playWrongSound() {
            if (!audioContext) return;
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            oscillator.frequency.value = 200;
            oscillator.type = 'sawtooth';
            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.3);
        }

        // ========== FUNCIONES DEL JUEGO ==========
        function selectDifficulty(level) {
            difficulty = level;
            document.getElementById('diffAmateur').classList.remove('selected');
            document.getElementById('diffExperto').classList.remove('selected');
            document.getElementById('diff' + level.charAt(0).toUpperCase() + level.slice(1)).classList.add('selected');
        }

        function validateFicha(input) {
            input.value = input.value.replace(/[^0-9]/g, '');
        }

        function startGame() {
            const nameInput = document.getElementById('playerName').value.trim();
            const institutionInput = document.getElementById('institution').value.trim();
            const departmentInput = document.getElementById('department').value;
            const programInput = document.getElementById('program').value.trim();
            const fichaInput = document.getElementById('ficha').value.trim();

            if (!nameInput) {
                alert('¬°Por favor ingresa tu nombre completo!');
                return;
            }
            if (!institutionInput) {
                alert('¬°Por favor ingresa tu instituci√≥n educativa!');
                return;
            }
            if (!departmentInput) {
                alert('¬°Por favor selecciona tu departamento!');
                return;
            }
            if (!programInput) {
                alert('¬°Por favor ingresa el nombre del programa!');
                return;
            }
            if (!fichaInput) {
                alert('¬°Por favor ingresa el n√∫mero de ficha!');
                return;
            }
            if (!/^\d+$/.test(fichaInput)) {
                alert('¬°El n√∫mero de ficha debe contener solo n√∫meros!');
                return;
            }
            if (!difficulty) {
                alert('¬°Por favor selecciona la dificultad del juego!');
                return;
            }

            playerName = nameInput;
            institution = institutionInput;
            department = departmentInput;
            program = programInput;
            ficha = fichaInput;
            score = 0;
            currentQuestionIndex = 0;
            answered = false;

            const questionBank = difficulty === 'experto' ? questionBankExperto : questionBankAmateur;
            selectedQuestions = shuffleArray([...questionBank]).slice(0, 10);

            initAudio();
            showScreen('gameScreen');
            loadQuestion();
            startTimer();
        }

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function loadQuestion() {
            answered = false;
            const question = selectedQuestions[currentQuestionIndex];

            document.getElementById('currentQ').textContent = currentQuestionIndex + 1;
            document.getElementById('score').textContent = score;
            document.getElementById('category').textContent = question.category;
            document.getElementById('questionText').textContent = question.question;

            const optionsContainer = document.getElementById('options');
            optionsContainer.innerHTML = '';

            question.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option';
                optionDiv.textContent = option;
                optionDiv.onclick = () => selectAnswer(index);
                optionsContainer.appendChild(optionDiv);
            });

            document.getElementById('nextBtn').style.display = 'none';
            updateProgressBar();
            resetTimer();
        }

        function selectAnswer(index) {
            if (answered) return;

            answered = true;
            clearInterval(timerInterval);

            const question = selectedQuestions[currentQuestionIndex];
            const options = document.querySelectorAll('.option');

            options[index].classList.add('selected');

            setTimeout(() => {
                if (index === question.correct) {
                    options[index].classList.remove('selected');
                    options[index].classList.add('correct');
                    const multiplier = difficulty === 'experto' ? 2 : 1;
                    const points = Math.max(50, timeLeft * 10) * multiplier;
                    score += points;
                    playCorrectSound();
                } else {
                    options[index].classList.remove('selected');
                    options[index].classList.add('incorrect');
                    options[question.correct].classList.add('correct');
                    playWrongSound();
                }

                document.getElementById('score').textContent = score;
                document.getElementById('nextBtn').style.display = 'block';
            }, 300);
        }

        function nextQuestion() {
            currentQuestionIndex++;

            if (currentQuestionIndex < selectedQuestions.length) {
                loadQuestion();
                startTimer();
            } else {
                endGame();
            }
        }

        function startTimer() {
            timeLeft = 15;
            document.getElementById('timer').textContent = timeLeft;
            document.getElementById('timer').classList.remove('warning');

            timerInterval = setInterval(() => {
                timeLeft--;
                document.getElementById('timer').textContent = timeLeft;
                playTickSound();

                if (timeLeft <= 5) {
                    document.getElementById('timer').classList.add('warning');
                }

                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    if (!answered) {
                        answered = true;
                        const question = selectedQuestions[currentQuestionIndex];
                        const options = document.querySelectorAll('.option');
                        options[question.correct].classList.add('correct');
                        playWrongSound();
                        document.getElementById('nextBtn').style.display = 'block';
                    }
                }
            }, 1000);
        }

        function resetTimer() {
            clearInterval(timerInterval);
            timeLeft = 15;
            document.getElementById('timer').textContent = timeLeft;
            document.getElementById('timer').classList.remove('warning');
        }

        function updateProgressBar() {
            const progress = ((currentQuestionIndex + 1) / selectedQuestions.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
        }

        function endGame() {
            showScreen('resultsScreen');
            document.getElementById('finalScore').textContent = score;

            const maxScore = difficulty === 'experto' ? 3000 : 1500;
            document.getElementById('maxScoreText').textContent = 'de ' + maxScore + ' puntos';

            saveScore(playerName, score);
            createConfetti();
            displayLeaderboard();
        }

        function saveScore(name, points) {
            leaderboardData.push({
                name: name,
                institution: institution,
                department: department,
                program: program,
                ficha: ficha,
                difficulty: difficulty,
                score: points,
                date: new Date().toLocaleDateString()
            });
            leaderboardData.sort((a, b) => b.score - a.score);
            leaderboardData = leaderboardData.slice(0, 10);
            
            // Guardar en GitHub Gist
            saveLeaderboardToGist();
        }

        function displayLeaderboard() {
            const container = document.getElementById('leaderboardList');
            container.innerHTML = '';

            if (leaderboardData.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #999;">No hay puntajes registrados a√∫n</p>';
                return;
            }

            leaderboardData.forEach((entry, index) => {
                const item = document.createElement('div');
                item.className = 'leaderboard-item';

                if (index === 0) item.classList.add('top1');
                else if (index === 1) item.classList.add('top2');
                else if (index === 2) item.classList.add('top3');

                const medal = index === 0 ? 'ü•á' : index === 1 ? 'ü•à' : index === 2 ? 'ü•â' : '';
                const difficultyBadge = entry.difficulty === 'experto' ?
                    '<span class="difficulty-badge experto">üî• EXPERTO</span>' :
                    '<span class="difficulty-badge amateur">üåü AMATEUR</span>';

                item.innerHTML = `
                    <div style="flex: 1;">
                        <div>
                            <span class="rank">${medal} #${index + 1}</span>
                            <strong style="font-size: 1.1em;">${entry.name}</strong>
                            ${difficultyBadge}
                        </div>
                        <div style="font-size: 0.85em; color: #555; margin-top: 5px;">
                            üè´ ${entry.institution}
                        </div>
                        <div style="font-size: 0.85em; color: #555;">
                            üìç ${entry.department} | üìö ${entry.program}
                        </div>
                        <div style="font-size: 0.85em; color: #555;">
                            üé´ Ficha: ${entry.ficha}
                        </div>
                    </div>
                    <div style="text-align: right;">
                        <div style="font-size: 1.5em; font-weight: bold; color: #667eea;">${entry.score} pts</div>
                        <div style="font-size: 0.8em; color: #666;">${entry.date}</div>
                    </div>
                `;
                container.appendChild(item);
            });
        }

        async function showLeaderboard() {
            // Recargar datos antes de mostrar
            await loadLeaderboardFromGist();
            showScreen('resultsScreen');
            document.getElementById('finalScore').textContent = 'üèÜ';
            document.getElementById('maxScoreText').textContent = 'Ranking Nacional';
            displayLeaderboard();
        }

        function createConfetti() {
            const colors = ['#667eea', '#764ba2', '#f093fb', '#f5576c', '#ffd700', '#4caf50'];

            for (let i = 0; i < 100; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + '%';
                    confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.animationDuration = (Math.random() * 2 + 2) + 's';
                    confetti.style.animationDelay = Math.random() * 0.5 + 's';
                    document.body.appendChild(confetti);

                    setTimeout(() => confetti.remove(), 3000);
                }, i * 30);
            }
        }

        function restartGame() {
            showScreen('startScreen');
            document.getElementById('playerName').value = '';
            document.getElementById('institution').value = '';
            document.getElementById('department').value = '';
            document.getElementById('program').value = '';
            document.getElementById('ficha').value = '';
            document.getElementById('diffAmateur').classList.remove('selected');
            document.getElementById('diffExperto').classList.remove('selected');
            difficulty = '';
        }

        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            document.getElementById(screenId).classList.add('active');
        }
    </script>
</body>

</html>

